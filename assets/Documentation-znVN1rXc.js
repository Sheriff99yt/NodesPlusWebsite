import{a as n,j as e,u as S,b as z,c as _,d as O}from"./index-CbV2Utvn.js";import{g as y,B,R as K,C as W,a as Z,b as T,s as V,n as E}from"./nodes-xY2ma6HN.js";import{h as U,i as q,j as L,k as G,l as Y,m as J,n as Q,o as X,N as ee,p as se,q as ae,r as ne,s as ie,t as R,u as te,b as le}from"./Footer-DzsmMqL_.js";const ce=({categories:s,selectedCategory:i,onSelectCategory:d,onNodeSelect:h})=>{const[g,r]=n.useState({}),[w,b]=n.useState(window.innerWidth<768);n.useEffect(()=>{i&&!g[i]&&r(t=>({...t,[i]:!0}))},[i]),n.useEffect(()=>{const t=()=>{b(window.innerWidth<768)};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]);const o=t=>{r(c=>({...c,[t]:!c[t]}))},v=()=>{const t=s.reduce((c,l)=>(c[l.id]=!0,c),{});r(t)},p=()=>{r({})};return n.useEffect(()=>{const t=()=>{v()},c=()=>{p()};return window.addEventListener("expandAllCategories",t),window.addEventListener("collapseAllCategories",c),()=>{window.removeEventListener("expandAllCategories",t),window.removeEventListener("collapseAllCategories",c)}},[s]),e.jsx("div",{className:`node-category-list ${w?"mobile-view":""}`,children:e.jsx("div",{className:"category-list",children:s.map(t=>{const c=i===t.id,l=g[t.id],m=y(t.id).length;return e.jsxs("div",{className:`category-item ${c?"selected":""}`,children:[e.jsxs("div",{className:"category-header",onClick:()=>{d(t.id),l||o(t.id)},children:[e.jsxs("div",{className:"category-info",children:[e.jsx("span",{className:"category-name",children:t.name}),e.jsx("span",{className:"category-count",children:m})]}),e.jsx("button",{className:"expand-button",onClick:u=>{u.stopPropagation(),o(t.id)},"aria-label":l?"Collapse category":"Expand category",children:l?e.jsx(U,{}):e.jsx(q,{})})]}),l&&e.jsx("div",{className:"category-nodes",children:y(t.id).map(u=>{const j=i===t.id&&window.location.pathname.includes(u.id);return e.jsx("div",{className:`node-item ${j?"selected":""}`,onClick:C=>{C.stopPropagation(),h&&h(u)},children:e.jsx("div",{className:"node-item-info",children:e.jsx("span",{className:"node-name",children:u.name})})},u.id)})})]},t.id)})})})},$=(s,i)=>{if(!s||!i||i.length<2)return s;const d=new RegExp(`(${i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return s.replace(d,'<span class="highlight">$1</span>')},re=({node:s,highlightTerm:i="",onClose:d})=>{var t,c;const h=i&&s.name?{__html:$(s.name,i)}:void 0,g=i&&s.shortDescription?{__html:$(s.shortDescription,i)}:void 0,r=i&&s.longDescription?{__html:$(s.longDescription,i)}:void 0,{theme:w}=S(),b=n.useMemo(()=>[{id:s.id,type:"blueprintNode",position:{x:100,y:100},data:{node:s,detailed:!0},draggable:!0}],[s]),o=[],v=n.useMemo(()=>({blueprintNode:B}),[]),p=n.useMemo(()=>({padding:.2,maxZoom:1.5,duration:200}),[]);return e.jsxs("div",{className:"node-details-panel",children:[e.jsxs("div",{className:"node-details-header",children:[e.jsxs("div",{className:"node-title-container",children:[e.jsx("h2",{className:"node-title",children:h?e.jsx("span",{dangerouslySetInnerHTML:h}):s.name}),e.jsxs("div",{className:"node-badges",children:[e.jsx("span",{className:"node-category-badge",style:{backgroundColor:oe(s.category)},children:s.category}),e.jsxs("span",{className:`node-complexity-badge ${s.complexity}`,children:["Complexity: ",s.complexity]})]})]}),d&&e.jsxs("button",{className:"back-button",onClick:d,"aria-label":"Back to list",children:[e.jsx(L,{})," ",e.jsx("span",{children:"Back"})]})]}),e.jsxs("div",{className:"node-details-content",children:[e.jsxs("div",{className:"node-graph-section",children:[e.jsx("h3",{children:"Node Visualization"}),e.jsx("div",{className:"node-graph-container",style:{height:"300px",background:w==="dark-theme"?"#1A202C":"#F7FAFC"},children:e.jsx(K,{nodes:b,edges:o,nodeTypes:v,fitView:!0,fitViewOptions:p,minZoom:.5,maxZoom:1.5,defaultViewport:{x:0,y:0,zoom:.8},connectionLineType:W.SmoothStep,panOnScroll:!1,zoomOnScroll:!1,panOnDrag:!1,preventScrolling:!0,attributionPosition:"bottom-right",children:e.jsx(Z,{color:"#5D7CE5",gap:16,size:1})})})]}),e.jsxs("div",{className:"node-overview",children:[e.jsxs("div",{className:"node-description",children:[e.jsxs("h3",{children:[e.jsx(G,{})," Description"]}),e.jsx("p",{className:"short-description",children:g?e.jsx("span",{dangerouslySetInnerHTML:g}):s.shortDescription}),s.longDescription&&e.jsx("p",{className:"long-description",children:r?e.jsx("span",{dangerouslySetInnerHTML:r}):s.longDescription})]}),s.searchKeywords&&s.searchKeywords.length>0&&e.jsxs("div",{className:"node-keywords",children:[e.jsxs("h3",{children:[e.jsx(Y,{})," Keywords"]}),e.jsx("div",{className:"keyword-tags",children:s.searchKeywords.map((l,m)=>e.jsx("span",{className:"keyword-tag",children:l},m))})]}),s.performanceNotes&&e.jsxs("div",{className:"node-performance",children:[e.jsxs("h3",{children:[e.jsx(J,{})," Performance Considerations"]}),e.jsx("p",{children:s.performanceNotes})]}),s.errorHandling&&e.jsxs("div",{className:"node-error-handling",children:[e.jsxs("h3",{children:[e.jsx(Q,{})," Error Handling"]}),e.jsx("p",{children:s.errorHandling})]})]}),(((t=s.inputs)==null?void 0:t.length)||((c=s.outputs)==null?void 0:c.length))&&e.jsxs("div",{className:"node-pins-wrapper",children:[e.jsx("h3",{children:"Pins"}),e.jsxs("div",{className:"node-pins-container",children:[s.inputs&&s.inputs.length>0&&e.jsxs("div",{className:"node-pins-section",children:[e.jsx("h4",{children:"Inputs"}),e.jsx("div",{className:"pins-table-wrapper",children:e.jsxs("table",{className:"pins-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Description"}),s.inputs.some(l=>l.defaultValue!==void 0)&&e.jsx("th",{children:"Default"})]})}),e.jsx("tbody",{children:s.inputs.map((l,m)=>{var u;return e.jsxs("tr",{children:[e.jsx("td",{className:"pin-name",children:l.name}),e.jsx("td",{className:"pin-type",children:l.type}),e.jsx("td",{className:"pin-description",children:l.description}),((u=s.inputs)==null?void 0:u.some(j=>j.defaultValue!==void 0))&&e.jsx("td",{className:"pin-default",children:l.defaultValue!==void 0?l.defaultValue:"-"})]},m)})})]})})]}),s.outputs&&s.outputs.length>0&&e.jsxs("div",{className:"node-pins-section",children:[e.jsx("h4",{children:"Outputs"}),e.jsx("div",{className:"pins-table-wrapper",children:e.jsxs("table",{className:"pins-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Name"}),e.jsx("th",{children:"Type"}),e.jsx("th",{children:"Description"})]})}),e.jsx("tbody",{children:s.outputs.map((l,m)=>e.jsxs("tr",{children:[e.jsx("td",{className:"pin-name",children:l.name}),e.jsx("td",{className:"pin-type",children:l.type}),e.jsx("td",{className:"pin-description",children:l.description})]},m))})]})})]})]})]}),s.examples&&s.examples.length>0&&e.jsxs("div",{className:"node-examples-section",children:[e.jsx("h3",{children:"Examples"}),e.jsx("div",{className:"node-examples",children:s.examples.map((l,m)=>e.jsxs("div",{className:"node-example",children:[e.jsx("h4",{children:l.title}),e.jsx("p",{children:l.description}),l.code&&e.jsx("pre",{className:"code-example",children:e.jsx("code",{children:l.code})}),l.image&&e.jsx("div",{className:"example-image-container",children:e.jsx("img",{src:l.image,alt:`Example: ${l.title}`})})]},m))})]})]})]})};function oe(s){switch(s.toLowerCase()){case"debug":return"#E53E3E";case"math":return"#3182CE";case"string":return"#38A169";case"utility":return"#D69E2E";case"array":return"#805AD5";default:return"#4A5568"}}const de=({category:s,nodes:i,onSelectNode:d,onBack:h})=>{const{theme:g}=S();return e.jsxs("div",{className:"category-details-panel",children:[e.jsxs("div",{className:"category-details-banner",children:[e.jsx("div",{className:"category-details-banner-content",children:e.jsxs("div",{className:"category-title-container",children:[e.jsx("h2",{className:"category-title",children:s.name}),e.jsx("div",{className:"category-meta",children:e.jsxs("span",{className:"category-count",children:[i.length," nodes"]})})]})}),h&&e.jsxs("button",{className:"back-button",onClick:h,"aria-label":"Back to documentation",children:[e.jsx(L,{})," ",e.jsx("span",{children:"Back"})]})]}),s.description&&e.jsx("div",{className:"category-description",children:e.jsx("p",{children:s.description})}),e.jsx("div",{className:"category-nodes-grid",children:i.map(r=>e.jsxs("div",{className:"node-preview-card",onClick:()=>d(r),children:[e.jsx("div",{className:"node-preview-header",children:e.jsx("h3",{children:r.name})}),e.jsx("div",{className:"node-preview-description",children:e.jsx("p",{children:r.shortDescription})}),e.jsxs("div",{className:"node-preview-footer",children:[e.jsx("span",{className:"node-complexity","data-complexity":r.complexity,children:r.complexity}),r.category&&e.jsx("span",{className:"node-category-badge",children:r.category})]})]},r.id))}),i.length===0&&e.jsxs("div",{className:"empty-category",children:[e.jsx(X,{size:40}),e.jsx("h3",{children:"No nodes available"}),e.jsx("p",{children:"This category doesn't have any nodes yet."})]})]})},he=({categories:s,onSelectCategory:i})=>{const{theme:d}=S();return e.jsxs("div",{className:`default-documentation ${d}`,children:[e.jsxs("div",{className:"default-header",children:[e.jsx("h1",{children:"NodesPlus Blueprint Library"}),e.jsx("p",{children:"Custom nodes for enhancing Unreal Engine Blueprints"})]}),e.jsxs("div",{className:"documentation-guide",children:[e.jsx("h2",{children:"Documentation Guide"}),e.jsxs("div",{className:"guide-content",children:[e.jsx("p",{children:"This documentation provides information about custom Blueprint nodes available in the Nodes Plus plugin for Unreal Engine."}),e.jsxs("div",{className:"navigation-steps",children:[e.jsxs("div",{className:"navigation-step",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Select a Category"}),e.jsx("p",{children:"Choose a category from the grid below to browse related nodes"})]})]}),e.jsxs("div",{className:"navigation-step",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"Explore Nodes"}),e.jsx("p",{children:"View all nodes within the selected category and their brief descriptions"})]})]}),e.jsxs("div",{className:"navigation-step",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsxs("div",{className:"step-content",children:[e.jsx("h3",{children:"View Details"}),e.jsx("p",{children:"Click on any node to see full documentation including inputs, outputs, and usage examples"})]})]})]}),e.jsx("p",{className:"search-tip",children:"You can also use the search bar at the left to quickly find specific nodes"})]})]}),e.jsx("h2",{className:"categories-heading",children:"Node Categories"}),e.jsx("div",{className:"categories-minimal-grid",children:s.map(h=>e.jsx("div",{className:"category-minimal-card",onClick:()=>i(h.id),children:e.jsxs("div",{className:"category-minimal-header",children:[e.jsx("h3",{children:h.name}),e.jsx("span",{className:"node-count",children:y(h.id).length})]})},h.id))})]})},je=()=>{const{categoryId:s,nodeId:i}=z(),d=_(),h=O(),g=n.useRef(null),{theme:r,toggleTheme:w}=S(),b=n.useRef(!1),[o,v]=n.useState(s),[p,t]=n.useState(i?T(i):void 0),[c,l]=n.useState(""),[m,u]=n.useState(window.innerWidth<768),[j,C]=n.useState(!0),[k,f]=n.useState([]);n.useMemo(()=>({blueprintNode:B}),[]),n.useMemo(()=>({padding:.2,maxZoom:1.5,duration:200}),[]),n.useMemo(()=>({type:"default",style:{stroke:"#3182CE",strokeWidth:2}}),[]),n.useMemo(()=>[16,16],[]),n.useCallback(()=>{document.body.classList.add("node-dragging")},[]),n.useCallback(()=>{},[]),n.useCallback(()=>{document.body.classList.remove("node-dragging")},[]),n.useCallback(a=>a.length?a.map((x,N)=>({id:x.id,type:"blueprintNode",position:{x:m?20:N%3*350+50,y:m?N*150+50:Math.floor(N/3)*200+50},data:{node:x,detailed:!1,highlightTerm:c},draggable:!0})):[],[m,c]),n.useEffect(()=>{if(c&&c.length>=2){const a=V(c);f(a)}else if(o){const a=y(o);f(a)}else f([])},[c,o]),n.useEffect(()=>{if(s){v(s);const a=y(s);if(f(a),i){const x=T(i);x&&t(x)}}},[s,i]),n.useEffect(()=>{const a=()=>{u(window.innerWidth<768)};return window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),n.useEffect(()=>{const a=x=>{var N;if(!(x.target instanceof HTMLInputElement||x.target instanceof HTMLTextAreaElement))switch(x.key){case"/":x.preventDefault(),(N=g.current)==null||N.focus();break;case"Escape":c?F():p&&(t(void 0),o&&d(`/documentation/${o}`));break}};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[c,p,o,d]);const D=n.useCallback(a=>{b.current=!0,a.category!==o&&v(a.category),t(a),m&&j&&C(!1);const x=`/documentation/${a.category}/${a.id}`;d(x,{replace:!0}),h.trackNodeView(a.id,a.name,a.category),setTimeout(()=>{b.current=!1},0)},[m,j,o,d,h]),H=n.useCallback(a=>{l(a),a.length>=2&&h.trackSearch(a,V(a).length)},[h]),F=n.useCallback(()=>{if(l(""),o){const a=y(o);f(a)}else f([])},[o]),A=n.useCallback(a=>{var N;v(a);const x=y(a);f(x),t(void 0),d(`/documentation/${a}`),m&&!j&&C(!0),h.trackFeatureUsage("select_category",{category_id:a,category_name:((N=E.find(P=>P.id===a))==null?void 0:N.name)||a})},[d,m,j,h]),I=n.useCallback(()=>{t(void 0),d(o?`/documentation/${o}`:"/documentation")},[o,d]),M=n.useMemo(()=>o&&E.find(a=>a.id===o)||null,[o]);return e.jsxs("div",{className:`documentation-page ${r}`,children:[e.jsx(ee,{}),e.jsxs("div",{className:`documentation-container ${m?"mobile-view":""} ${r}`,children:[e.jsxs("div",{className:`sidebar ${m&&!j?"mobile-hidden":""} ${r}`,children:[e.jsxs("div",{className:"sidebar-controls",children:[e.jsx("div",{className:"search-container",children:e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx(se,{className:"search-icon"}),e.jsx("input",{ref:g,type:"text",placeholder:"Search nodes... (Press / to focus)",value:c,onChange:a=>H(a.target.value),className:"search-input"}),c&&e.jsx("button",{className:"clear-search",onClick:F,children:e.jsx(ae,{})})]})}),e.jsxs("div",{className:"controls-row",children:[e.jsx("button",{className:"control-button theme-toggle-button",onClick:w,title:`Switch to ${r==="dark-theme"?"light":"dark"} theme (Ctrl+T)`,children:r==="dark-theme"?e.jsx(ne,{}):e.jsx(ie,{})}),e.jsxs("div",{className:"category-controls",children:[e.jsx("button",{className:"control-button",onClick:()=>{window.dispatchEvent(new CustomEvent("expandAllCategories"))},title:"Expand All Categories",children:e.jsx(R,{})}),e.jsx("button",{className:"control-button",onClick:()=>{window.dispatchEvent(new CustomEvent("collapseAllCategories"))},title:"Collapse All Categories",children:e.jsx(te,{})})]})]})]}),!c&&e.jsx(ce,{categories:E,selectedCategory:o,onSelectCategory:A,onNodeSelect:D}),c&&k.length>0&&e.jsxs("div",{className:"search-results",children:[e.jsxs("h3",{children:["Search Results (",k.length,")"]}),e.jsx("div",{className:"node-list",children:k.map(a=>e.jsxs("div",{className:`node-list-item ${(p==null?void 0:p.id)===a.id?"selected":""}`,onClick:()=>D(a),children:[e.jsxs("div",{className:"node-list-item-name",children:[e.jsx("span",{className:"category-indicator"}),e.jsx("span",{dangerouslySetInnerHTML:{__html:me(a.name,c)}})]}),e.jsx("div",{className:"node-list-item-category",children:a.category})]},a.id))})]}),c&&k.length===0&&e.jsxs("div",{className:"no-results",children:[e.jsxs("p",{children:['No nodes found matching "',c,'"']}),e.jsx("p",{children:"Try a different search term or browse by category"})]})]}),e.jsxs("div",{className:"main-content",children:[m&&e.jsx("button",{className:`mobile-toggle ${r}`,onClick:()=>C(!j),children:j?e.jsx(L,{}):e.jsx(R,{})}),p?e.jsx(re,{node:p,highlightTerm:c,onClose:I}):o&&M?e.jsx(de,{category:M,nodes:k,onSelectNode:D,onBack:()=>{v(void 0),d("/documentation")}}):e.jsx(he,{categories:E,onSelectCategory:A})]})]}),e.jsx(le,{className:r})]})};function me(s,i){if(!s||!i||i.length<2)return s;const d=new RegExp(`(${i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})`,"gi");return s.replace(d,'<span class="highlight">$1</span>')}export{je as default};
